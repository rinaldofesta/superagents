# Prisma Skill

> Type-safe ORM for Node.js and TypeScript with declarative data modeling

## When to Use

Use this skill when working with Prisma schemas, migrations, queries, or database operations.

## Key Concepts

| Concept | Description | Use Case |
|---------|-------------|----------|
| Schema | Declarative data model in .prisma files | Define tables, relations, constraints |
| Client | Auto-generated type-safe query builder | CRUD operations |
| Migrate | Schema migration system | Database versioning |
| Studio | GUI for database exploration | Data visualization |

## Schema Definition

```prisma
// prisma/schema.prisma
model User {
  id        Int      @id @default(autoincrement())
  email     String   @unique
  name      String?
  posts     Post[]   // One-to-many relation
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Post {
  id        Int      @id @default(autoincrement())
  title     String
  content   String?
  published Boolean  @default(false)
  author    User     @relation(fields: [authorId], references: [id])
  authorId  Int
}
```

## Common Operations

```typescript
import { PrismaClient } from '@prisma/client'
const prisma = new PrismaClient()

// Create
const user = await prisma.user.create({
  data: { email: 'user@example.com', name: 'John' }
})

// Read with relations
const userWithPosts = await prisma.user.findUnique({
  where: { id: 1 },
  include: { posts: true }
})

// Update
await prisma.user.update({
  where: { id: 1 },
  data: { name: 'Jane' }
})

// Delete
await prisma.user.delete({ where: { id: 1 } })

// Nested writes
await prisma.user.create({
  data: {
    email: 'author@example.com',
    posts: {
      create: [{ title: 'First Post' }]
    }
  }
})
```

## Migration Commands

```bash
npx prisma migrate dev --name init  # Create migration
npx prisma migrate deploy           # Apply in production
npx prisma db push                  # Quick sync (dev only)
npx prisma generate                 # Regenerate client
npx prisma studio                   # Open GUI
```

## Pitfalls

- Always validate user input before queries (SQL injection prevention)
- Use transactions for multi-model operations
- Don't expose raw Prisma client to API responses
- Remember to regenerate client after schema changes

## Context7

```
mcp__context7__resolve-library-id with "prisma"
mcp__context7__query-docs for specific Prisma questions
```

---

Generated by SuperAgents
